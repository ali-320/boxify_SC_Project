
{
  "entities": {
    "QuoteRequest": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "QuoteRequest",
      "type": "object",
      "description": "Represents a request for a quote for custom boxes.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the quote request."
        },
        "productDimensions": {
          "type": "string",
          "description": "The dimensions of the requested product (e.g., length x width x height)."
        },
        "quantity": {
          "type": "number",
          "description": "The quantity of boxes requested."
        },
        "material": {
          "type": "string",
          "description": "The material of the box (e.g., cardboard, plastic)."
        },
        "printingOptions": {
          "type": "string",
          "description": "The printing options selected for the box."
        },
        "contactName": {
          "type": "string",
          "description": "The name of the person requesting the quote."
        },
        "contactEmail": {
          "type": "string",
          "description": "The email address of the person requesting the quote.",
          "format": "email"
        },
        "artworkDataUrl": {
          "type": "string",
          "description": "Base64 encoded data URI of the uploaded artwork file."
        },
        "submissionDate": {
          "type": "string",
          "description": "The date and time the quote request was submitted.",
          "format": "date-time"
        },
        "companyName": {
          "type": "string",
          "description": "The name of the company requesting the quote."
        },
        "streetAddress": {
          "type": "string",
          "description": "The street address for the quote contact."
        },
        "city": {
          "type": "string",
          "description": "The city for the quote contact."
        },
        "state": {
          "type": "string",
          "description": "The state or province for the quote contact."
        },
        "zipCode": {
          "type": "string",
          "description": "The ZIP or postal code for the quote contact."
        }
      },
      "required": [
        "productDimensions",
        "quantity",
        "material",
        "printingOptions",
        "contactName",
        "contactEmail",
        "submissionDate",
        "streetAddress",
        "city",
        "state",
        "zipCode"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/quoteRequests/{quoteRequestId}",
        "definition": {
          "entityName": "QuoteRequest",
          "schema": {
            "$ref": "#/backend/entities/QuoteRequest"
          },
          "description": "Stores quote requests. Each document represents a single quote request with the details provided by the user.",
          "params": [
            {
              "name": "quoteRequestId",
              "description": "The unique ID of the quote request."
            }
          ]
        }
      }
    ],
    "reasoning": "Based on the application requirements, which primarily involve quote requests, a straightforward structure is recommended. Since there's no user authentication requirement specified for submitting quote requests (anonymous auth is enabled), all quote requests will be stored in a single collection. This simplifies the security rules and data management. To ensure data integrity, each quote request will have a unique ID assigned to it, which is automatically generated by Firestore. The structure supports required QAPs because there is segregation of concern due to the single collection purpose and ownership is determined by the creation of each quote request. Authorization independence is achieved because we avoid needing to use `get()` calls in security rules."
  }
}

    